<section>
  <div class="form-container my-3">
    <h1>Login Now</h1>
    <form class="form" [formGroup]="checkOut" (ngSubmit)="handleform()">
      <div class="form-group">
        <label for="details">Details</label>
        <textarea id="details" formControlName="details"></textarea>
      </div>
      <div class="form-group">
        <label for="phone">Phone</label>
        <input
          required
          formControlName="phone"
          name="phone"
          #phone
          id="phone"
          type="tel"
          [class.invalid]="
            checkOut.get('phone')?.errors &&
            (checkOut.get('phone')?.touched || phone.value.length > 0)
          "
        />
        <div
          *ngIf="
            checkOut.get('phone')?.errors &&
            (checkOut.get('phone')?.touched || phone.value.length > 0)
          "
        >
          <p
            *ngIf="checkOut.get('phone')?.getError('required')"
            class="text-danger fs-6"
          >
            Phone is Required.
          </p>
          <p
            *ngIf="checkOut.get('phone')?.getError('pattern')"
            class="text-danger fs-6"
          >
            Accept only egypt phone numbers.
          </p>
        </div>
      </div>

      <div class="form-group">
        <label for="city">City</label>
        <input required formControlName="city" id="city" type="text" />
      </div>

      <button
        [disabled]="checkOut.invalid"
        type="submit"
        class="btn-main d-block ms-auto"
      >
        <i *ngIf="isLoading" class="fas fa-spin fa-spinner"></i>
        Check Out
      </button>
      <p *ngIf="msgError" class="text-danger text-center fs-4">
        {{ msgError }}
      </p>
    </form>
  </div>
</section>
